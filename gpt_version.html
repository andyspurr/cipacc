<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sticky Tabs Demo</title>

<style>
/* ===== BASIC STYLES ===== */
body { font-family: Arial, sans-serif; margin:0; }
h1,h3 { margin:0.4em 0; }

/* ===== HERO SECTION ===== */
.et-hero-tabs {
  padding: 60px 20px;
  text-align: center;
  background-image: url('./images/2018team.jpg');
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
}

/* ===== TAB CONTAINER ===== */
.et-hero-tabs-container {
  position: relative;
  display: flex;
  justify-content: center;
  gap: 20px;
  padding: 12px 0;
  background: white;
  transition: box-shadow 0.2s;
  z-index: 10;
}

/* ===== STICKY STATE ===== */
.et-hero-tabs-container--top {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  box-shadow: 0 2px 10px rgba(0,0,0,0.12);
  z-index: 1000;
}

/* ===== TABS ===== */
.et-hero-tab {
  text-decoration: none;
  color: #333;
  padding: 8px 6px;
  display: inline-block;
  transition: color 0.2s;
}
.et-hero-tab:hover { color: #0077cc; }

/* ===== SLIDER BAR ===== */
.et-hero-tab-slider {
  position: absolute;
  bottom: 0;
  height: 3px;
  background: #0077cc;
  transition: left 0.25s ease, width 0.25s ease;
  left: 0;
  width: 0;
}

/* ===== MAIN CONTENT ===== */
.et-main { padding: 40px 20px; }
.et-slide {
  min-height: 600px;
  padding: 40px;
  border-bottom: 1px solid #eee;
}
.et-slide:nth-child(even) { background: #fafafa; }
</style>
</head>

<body>

<!-- ===== HERO ===== -->
<section class="et-hero-tabs" id="home">
  <h1>CIPA CITMA Cricket Club</h1>
  <h3>Sponsored by Dawn Ellmore Employment</h3>

  <div class="et-hero-tabs-container">
    <a class="et-hero-tab" href="#tab-fixtures">Fixtures</a>
    <a class="et-hero-tab" href="#tab-results">Results</a>
    <a class="et-hero-tab" href="#tab-stats">Stats</a>
    <a class="et-hero-tab" href="#tab-about">About</a>
    <a class="et-hero-tab" href="#home">Home</a>
    <span class="et-hero-tab-slider"></span>
  </div>
</section>

<!-- ===== MAIN CONTENT ===== -->
<main class="et-main">
  <section class="et-slide" id="tab-fixtures"><h1>Fixtures</h1></section>
  <section class="et-slide" id="tab-results"><h1>Results</h1></section>
  <section class="et-slide" id="tab-stats"><h1>Stats</h1></section>
  <section class="et-slide" id="tab-about"><h1>About</h1></section>
  <section class="et-slide" id="tab-other"><h1>Other</h1></section>
</main>

<!-- ===== JS: jQuery + Sticky Navigation ===== -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
class StickyNavigation {
  constructor() {
    this.currentId = null;
    this.currentTab = null;
    this.$tabContainer = $('.et-hero-tabs-container');
    this.$tabs = $('.et-hero-tab');
    this.$slider = $('.et-hero-tab-slider');
    this.tabContainerHeight = this.$tabContainer.outerHeight() || 70;
    this.placeholder = $('<div class="et-hero-tabs-placeholder"></div>');

    const self = this;
    this.$tabs.on('click', function(e) { self.onTabClick(e, $(this)); });
    $(window).on('scroll', () => this.onScroll());
    $(window).on('resize', () => this.onResize());

    this.findCurrentTabSelector();
    this.setSliderCss();
  }

  onTabClick(event, $element) {
    event.preventDefault();
    const target = $($element.attr('href'));
    if (!target.length) return;
    const scrollTop = target.offset().top - this.tabContainerHeight + 1;
    $('html, body').animate({ scrollTop: scrollTop }, 600);
  }

  onScroll() {
    this.checkTabContainerPosition();
    this.findCurrentTabSelector();
  }

  onResize() {
    this.tabContainerHeight = this.$tabContainer.outerHeight();
    this.setSliderCss();
  }

  checkTabContainerPosition() {
    const $hero = $('.et-hero-tabs');
    const offset = $hero.offset().top + $hero.outerHeight() - this.tabContainerHeight;

    if ($(window).scrollTop() > offset) {
      if (!this.$tabContainer.hasClass('et-hero-tabs-container--top')) {
        this.placeholder.height(this.tabContainerHeight);
        $hero.after(this.placeholder);
        this.$tabContainer.addClass('et-hero-tabs-container--top');
        this.$tabContainer.css({ width: '100%' });
        this.setSliderCss();
      }
    } else {
      if (this.$tabContainer.hasClass('et-hero-tabs-container--top')) {
        this.$tabContainer.removeClass('et-hero-tabs-container--top');
        this.placeholder.remove();
        this.$tabContainer.css({ width: '' });
        this.setSliderCss();
      }
    }
  }

  findCurrentTabSelector() {
    let newCurrentId = null;
    let newCurrentTab = null;
    const self = this;

    this.$tabs.each(function() {
      const id = $(this).attr('href');
      const $section = $(id);
      if (!$section.length) return;

      const offsetTop = $section.offset().top - self.tabContainerHeight;
      const offsetBottom = offsetTop + $section.outerHeight();
      const scrollPos = $(window).scrollTop();

      if (scrollPos >= offsetTop && scrollPos < offsetBottom) {
        newCurrentId = id;
        newCurrentTab = $(this);
      }
    });

    if (this.currentId !== newCurrentId) {
      this.currentId = newCurrentId;
      this.currentTab = newCurrentTab;
      this.setSliderCss();
    }
  }

  setSliderCss() {
    let width = 0, left = 0;
    if (this.currentTab && this.currentTab.length) {
      width = this.currentTab.outerWidth();
      left = this.currentTab.offset().left - this.$tabContainer.offset().left;
    } else {
      const $first = this.$tabs.first();
      if ($first.length) {
        width = $first.outerWidth();
        left = $first.offset().left - this.$tabContainer.offset().left;
      }
    }
    this.$slider.css({ width: width + 'px', left: left + 'px' });
  }
}

$(document).ready(function() {
  new StickyNavigation();
});
</script>
</body>
</html>